# ================================
# ZOOM-TELEBOT SOC - Environment Configuration
# ================================
# 
# IMPORTANT: Copy this file to .env and fill in the required values
# Required variables are marked with [REQUIRED]
# Optional variables are marked with [OPTIONAL] and have sensible defaults
#

# ================================
# ‚ö†Ô∏è REQUIRED SECTION - MUST BE SET
# ================================

# Telegram Bot Configuration
# Get token from @BotFather on Telegram
TELEGRAM_TOKEN=your-telegram-bot-token-here

# Initial Owner Setup (bot creator)
# Your Telegram user ID (use /start in bot to get your ID)
INITIAL_OWNER_ID=123456789

# Your Telegram username (without @)
INITIAL_OWNER_USERNAME=your_username

# Zoom Integration (Server-to-Server OAuth)
# Get these from Zoom App Marketplace
ZOOM_ACCOUNT_ID=your-zoom-account-id
ZOOM_CLIENT_ID=your-zoom-client-id
ZOOM_CLIENT_SECRET=your-zoom-client-secret

# ================================
# üìã OPTIONAL SECTION - Has Defaults
# ================================

# === Database Configuration ===
# Default: sqlite+aiosqlite:///./zoom_telebot.db
# Use sqlite for local development, PostgreSQL for production
DATABASE_URL=sqlite+aiosqlite:///./zoom_telebot.db

# Default: bot.db (extracted from DATABASE_URL)
# DB_PATH=bot.db

# === Bot Mode Configuration ===
# Default: polling
# Options: polling (recommended for development), webhook (for production)
DEFAULT_MODE=polling

# === Zoom User Configuration ===
# Default: me (uses account-level token)
# Set to specific Zoom user ID if creating meetings for specific user
# ZOOM_USER_ID=me

# Zoom user email (optional, alternative to ZOOM_USER_ID)
# ZOOM_USER_EMAIL=

# Zoom API endpoint
# Default: https://api.zoom.us
ZOOM_AUDIENCE=https://api.zoom.us

# === Webhook Configuration (For Production) ===
# Webhook secret for securing incoming requests
# Required only if using webhook mode
# WEBHOOK_SECRET=your-webhook-secret-here

# === URL Shortener Configuration ===
# Default: tinyurl
# Options: tinyurl, sid (S.id), bitly
DEFAULT_SHORTENER=tinyurl

# S.id Configuration (Indonesian URL shortener - recommended for Indonesia)
# API credentials from S.id service
# SID_ID=your-sid-id-here
# SID_KEY=your-sid-key-here

# S.id API base URL
# Default: https://api.s.id
# SID_BASE_URL=https://api.s.id

# S.id short URL base
# Default: https://s.id
# SID_SHORT_BASE=https://s.id

# Bitly Configuration (if using Bitly as shortener)
# API token from Bitly
# BITLY_TOKEN=your-bitly-token-here

# Bitly API endpoint
# Default: https://api-ssl.bitly.com/v4/shorten
# BITLY_API_URL=https://api-ssl.bitly.com/v4/shorten

# === Logging Configuration ===
# Default: INFO
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format
# Default: %(asctime)s,%(msecs)03d - %(name)s - %(levelname)s - %(message)s
# LOG_FORMAT=%(asctime)s,%(msecs)03d - %(name)s - %(levelname)s - %(message)s

# === Data Directory ===
# Default: ./data
# Directory for storing data files (shorteners.json, etc.)
DATA_DIR=./data

# === C2 Framework Configuration (Sliver) ===
# IMPORTANT: This is the primary agent control method (replaces legacy polling API)
# Enable/disable Sliver C2 framework integration for remote meeting control
# Default: false (set to true to enable agent control)
C2_ENABLED=false

# Sliver C2 server host
# Default: localhost
# Example: your-c2-server.com or 192.168.1.100
# SLIVER_HOST=localhost

# Sliver C2 server port
# Default: 31337
# SLIVER_PORT=31337

# Sliver C2 authentication token
# Required only if C2_ENABLED=true
# Get from your Sliver C2 server configuration
# SLIVER_TOKEN=your-sliver-token-here

# ===== RECORDING STRATEGY SELECTION =====
# Choose ONE approach:
# Option 1: Use C2 Framework + LOCAL recording (RECOMMENDED for most users)
#   - C2_ENABLED=true + AGENT_API_ENABLED=true
#   - Pros: Agent control via C2, no Zoom license needed, scalable
#   - Cons: Requires C2 infrastructure
#
# Option 2: Use Zoom Cloud Recording (for users with Zoom license)
#   - C2_ENABLED=false + AGENT_API_ENABLED=false
#   - Pros: No infrastructure needed, Zoom handles recording
#   - Cons: Requires Zoom license with cloud recording
#
# Option 3: Use C2 Framework + CLOUD recording (hybrid)
#   - C2_ENABLED=true + AGENT_API_ENABLED=false
#   - Pros: C2 agent control + Zoom cloud recording
#   - Cons: Requires Zoom license

# === Agent Recording Control ===
# Controls auto-recording strategy when creating meetings
# Default: true
# This works in conjunction with C2_ENABLED
AGENT_API_ENABLED=true

# Recording strategy explanation:
# When AGENT_API_ENABLED=true (with C2_ENABLED=true):
#   - New meetings use LOCAL recording
#   - Agent via C2 can control recording (start/stop/pause)
#   - No Zoom cloud recording license required
#   - More control and flexibility
#
# When AGENT_API_ENABLED=false (with C2_ENABLED=false):
#   - New meetings use CLOUD recording (via Zoom)
#   - Zoom automatically handles recording
#   - Requires Zoom license with cloud recording
#   - Less control, fully automated by Zoom

# ================================
# üìù NOTES
# ================================
#
# 1. REQUIRED VARIABLES:
#    - TELEGRAM_TOKEN: Get from @BotFather
#    - INITIAL_OWNER_ID: Your Telegram user ID
#    - INITIAL_OWNER_USERNAME: Your Telegram username
#    - ZOOM_ACCOUNT_ID, ZOOM_CLIENT_ID, ZOOM_CLIENT_SECRET: From Zoom App Marketplace
#
# 2. AGENT CONTROL METHOD (Choose ONE):
#    
#    OPTION A: C2 Framework (RECOMMENDED) - Scalable, no polling overhead
#    ========================================================
#    C2_ENABLED=true
#    SLIVER_HOST=your-c2-server
#    SLIVER_PORT=31337
#    SLIVER_TOKEN=your-token
#    AGENT_API_ENABLED=true              # For LOCAL recording via Agent
#    
#    Pros:
#      - Real-time agent communication via mTLS (no polling)
#      - Scalable architecture
#      - Agent can control local recording
#      - No Zoom license needed
#    
#    OPTION B: Zoom Cloud Recording - Simpler, requires license
#    ========================================================
#    C2_ENABLED=false
#    AGENT_API_ENABLED=false
#    
#    Pros:
#      - No infrastructure setup needed
#      - Zoom handles recording automatically
#      - Simpler deployment
#    
#    Cons:
#      - Requires Zoom license with cloud recording
#      - Less agent control
#
# 3. SHORTENER CONFIGURATION:
#    - At least one shortener provider must be configured
#    - Default is TinyURL (no configuration needed)
#    - S.id is recommended for Indonesian users
#    - Bitly offers more features (custom domains, etc.)
#
# 4. C2 FRAMEWORK (When using C2):
#    - Primary method for agent control (replaces legacy polling API)
#    - Uses mTLS for secure communication
#    - Scales better than polling
#    - Requires C2 infrastructure (Sliver server)
#    - See C2_SETUP_GUIDE.md for detailed setup
#
# 5. LOGGING:
#    - Use DEBUG level during development
#    - Use INFO level in production
#
# 6. FOR DEVELOPMENT:
#    - Use default values for most optional settings
#    - Focus on configuring required variables
#    - Run with: python dev.py run --watch
#
# 7. FOR PRODUCTION:
#    - Review all optional settings
#    - Use webhook mode instead of polling
#    - Configure proper logging
#    - Use environment-specific values
#    - Set up C2 infrastructure if using agent control
#
# ========================================
# Shortener Configuration
# ========================================
# Shortener providers are configured in shorteners.json file
# To add new providers, edit shorteners.json (no code changes needed!)
#
# Example new provider format in shorteners.json:
# "newprovider": {
#   "name": "New Provider",
#   "description": "Description of the provider",
#   "enabled": true,
#   "api_url": "https://api.example.com/shorten",
#   "method": "post",
#   "headers": {"Content-Type": "application/json"},
#   "body": {"url": "{url}"},
#   "response_type": "json",
#   "success_check": "status==200",
#   "url_extract": "response.get('short_url')"
# }

# Timezone Configuration
TIMEZONE=Asia/Jakarta
TZ=Asia/Jakarta
PYTZ_TIMEZONE=Asia/Jakarta